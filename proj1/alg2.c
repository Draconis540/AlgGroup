#include "stdio.h"
#include "stdlib.h"
#include <time.h>

void GetVisibleLines(int *m,int* b, int n, int* lines){


	for (int i = 0; i < n; ++i)
	{
		lines[i]=1;//assume line is visible
	}

	for (int i = 1; i < n-1; i++)
	{
		printf("i=%d\n",i );
		for (int j = 0; j < i ; j++)
		{
			//line j is visible
			if(lines[j]==1){

				printf("j=%d\n",j );
				for (int k = i+1; k < n; k++)
				{
					printf("k=%d\n",k );
					if(((b[j]-b[k])*m[i]+b[i]*(m[k]-m[j]))<(m[j]*(b[j]-b[k])+b[j]*(m[k]-m[j])))
					{
						lines[i]=0;//not visible
						printf("i=%d not visible\n",i );
						break;
					}
				}
				if(lines[i]==0)
				break;
			}
		}
	}


}



int main(){
	int m[100]={-980, -979, -891, -887, -858, -845, -782, -759, -757, -731, -711, -700, -678, -671, -650, -569, -553, -549, -538, -528, -519, -490, -460, -455, -447, -446, -442, -409, -398, -354, -348, -338, -278, -273, -272, -237, -227, -209, -196, -188, -138, -120, -119, -103, -70, -56, -53, -37, -29, -22, -17, 16, 20, 43, 80, 97, 112, 134, 171, 204, 219, 222, 245, 277, 295, 332, 341, 407, 433, 435, 468, 472, 478, 481, 509, 519, 520, 521, 544, 555, 562, 596, 600, 603, 611, 632, 642, 648, 667, 697, 709, 770, 789, 827, 852, 899, 912, 913, 965, 993};
	int b[100]={177, -667, -222, -22, 916, 568, -9, 40, 83, -728, -345, 834, 386, -565, 735, -229, -974, 373, 951, 959, -578, 799, -280, 819, 96, -935, 285, -482, -814, 9, 306, -88, 903, -719, 365, -755, -976, 751, 472, -94, -623, 645, -677, 815, 877, 635, -439, -129, -697, -429, 695, -903, -947, -406, -56, 237, 879, 3, 183, 472, 567, -397, -577, 524, -81, 992, 671, -277, -686, 978, 268, 224, 838, 691, 729, 234, 411, 942, 356, -271, 545, 604, -488, -824, -111, 837, -110, -876, 43, -120, 856, -857, 10, 61, 720, 140, 270, 995, -796, -5};
    int count=100;
    int lines[100];

	clock_t beg, end;
	beg = clock();
	GetVisibleLines(m,b,count,lines);
	end = clock();

	printf("Visible Lines:");
	for(i=0;i<LINENUM;i++){
		printf(" %d,", v[i]);
	}
	printf("\n");
	printf("This algorithm took %f seconds,\n", (double)(end-beg)/CLOCKS_PER_SEC);

}
